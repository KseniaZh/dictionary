{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u041E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435\\\\React\\\\projects\\\\react-dictionary\\\\src\\\\containers\\\\Authorization\\\\Registration.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport InputAuth from '../../UserInterface/InputAuth/InputAuth';\nimport { linkHome } from '../Navigation/Main';\nimport ButtonLink from '../../UserInterface/Buttons/Button/ButtonLink';\nimport Button from '../../UserInterface/Buttons/Button/Button';\nimport { saveDataAuthorization, startSagasAuthPOSTRequestServer, changeFlagPrimaryRegistration } from '../../store/Authorization/actionsAuthorization';\n\nfunction mapStateToProps(state) {\n  return {\n    stateAuthorization: state.stateAuthorization.user,\n    stateStylesAll: state.stateStyle.stylesAll,\n    //переключение цветового решения приложения\n    staleSelect: state.stateStyle.styleSelect\n  };\n}\n\nconst mapDispatchToProps = {\n  saveDataAuthorization,\n  startSagasAuthPOSTRequestServer,\n  changeFlagPrimaryRegistration\n};\n\nclass Registration extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onchange = (event, nameInput) => {\n      this.setState({ ...this.state,\n        [nameInput]: event.target.value\n      });\n    };\n\n    this.onclick = (event, nameInput) => {\n      this.setState({ ...this.state,\n        [nameInput]: ''\n      });\n    };\n\n    this.hendlerSave = () => {\n      let flagValidationChange = this.state.flagValidation;\n      let flagNotValid = false;\n\n      const funcValidation = data => {\n        if (this.state[data] === '') {\n          flagValidationChange = { ...flagValidationChange,\n            [data]: false\n          };\n          flagNotValid = true;\n          console.log(`flagValidationChange ${data}`, flagValidationChange);\n        }\n      };\n\n      funcValidation('surname');\n      funcValidation('name');\n      funcValidation('secondName');\n      funcValidation('login');\n\n      if (this.state.password.length < 8) {\n        flagValidationChange = { ...flagValidationChange,\n          password: false\n        };\n        flagNotValid = true;\n      }\n\n      if (flagNotValid === true) {\n        this.setState({ ...this.state,\n          flagValidation: [flagValidationChange]\n        });\n        console.log(\"flagValidationChange \", flagValidationChange);\n        console.log(\"this.state \", this.state);\n        return;\n      }\n\n      localStorage.setItem('login', this.state.login);\n      localStorage.setItem('nameAuth', `${this.state.name} ${this.state.secondName}`);\n      let stateAuth = {\n        uid: '',\n        login: this.state.login,\n        name: `${this.state.surname} ${this.state.name} ${this.state.secondName}`,\n        password: this.state.password\n      };\n      this.props.saveDataAuthorization(stateAuth);\n      this.props.startSagasAuthPOSTRequestServer();\n      this.props.changeFlagPrimaryRegistration(false);\n    };\n\n    this.hendlerClearAll = () => {\n      this.setState({\n        surname: '',\n        name: '',\n        secondName: '',\n        login: '',\n        password: ''\n      });\n    };\n\n    this.hendlerCloseWindowRegistration = () => {\n      this.hendlerClearAll();\n      this.props.changeFlagPrimaryRegistration(false);\n    };\n\n    this.state = {\n      surname: '',\n      name: '',\n      secondName: '',\n      login: '',\n      password: '',\n      flagValidation: {\n        surname: true,\n        name: true,\n        secondName: true,\n        login: true,\n        password: true\n      }\n    };\n    this.dataInputAuth = {\n      surname: {\n        type: 'text',\n        label: 'фамилия',\n        placeholder: 'обязательно для заполнения',\n        autofocus: true\n      },\n      name: {\n        type: 'text',\n        label: 'имя',\n        placeholder: 'обязательно для заполнения',\n        autofocus: false\n      },\n      secondName: {\n        type: 'text',\n        label: 'отчество',\n        placeholder: 'обязательно для заполнения',\n        autofocus: false\n      },\n      login: {\n        type: 'text',\n        label: 'логин',\n        placeholder: 'обязательно для заполнения',\n        autofocus: false\n      },\n      password: {\n        type: 'password',\n        label: 'пароль',\n        placeholder: 'должен содержать не менее 8 символов',\n        autofocus: false\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this.props.stateStylesAll[this.props.staleSelect].registration,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, \"\\u041F\\u0435\\u0440\\u0432\\u0438\\u0447\\u043D\\u0430\\u044F \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F :\")), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, Object.keys(this.dataInputAuth).map((keyState, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 32\n        }\n      }, /*#__PURE__*/React.createElement(InputAuth, Object.assign({\n        value: this.state[keyState],\n        id: keyState,\n        tabindex: index\n      }, this.dataInputAuth[keyState], {\n        onchange: this.onchange,\n        onfocus: () => {},\n        onclick: this.onclick,\n        styles: this.state.flagValidation[keyState] ? {} : {\n          boxShadow: `0px 0px 3px 2px ${this.props.stateStylesAll[this.props.staleSelect].colorWarning} inset`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 37\n        }\n      }, this.state.flagValidation[keyState] ? null : /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: this.props.stateStylesAll[this.props.staleSelect].colorWarning\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 43\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fa fa-exclamation\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 129\n        }\n      }), \" \\\"\", this.dataInputAuth[keyState].label, \"\\\" \", this.dataInputAuth[keyState].placeholder)));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ButtonLink, {\n      onclick: this.hendlerSave,\n      to: linkHome,\n      name: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n      icon: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onclick: this.hendlerClearAll,\n      name: \"\",\n      icon: \"fa fa-times\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(ButtonLink, {\n      onclick: this.hendlerCloseWindowRegistration,\n      to: linkHome,\n      name: \"\",\n      icon: \"fa fa-share\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Registration);","map":{"version":3,"sources":["D:/Обучение/React/projects/react-dictionary/src/containers/Authorization/Registration.js"],"names":["React","connect","InputAuth","linkHome","ButtonLink","Button","saveDataAuthorization","startSagasAuthPOSTRequestServer","changeFlagPrimaryRegistration","mapStateToProps","state","stateAuthorization","user","stateStylesAll","stateStyle","stylesAll","staleSelect","styleSelect","mapDispatchToProps","Registration","Component","constructor","props","onchange","event","nameInput","setState","target","value","onclick","hendlerSave","flagValidationChange","flagValidation","flagNotValid","funcValidation","data","console","log","password","length","localStorage","setItem","login","name","secondName","stateAuth","uid","surname","hendlerClearAll","hendlerCloseWindowRegistration","dataInputAuth","type","label","placeholder","autofocus","render","registration","Object","keys","map","keyState","index","boxShadow","colorWarning","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport InputAuth from '../../UserInterface/InputAuth/InputAuth';\r\nimport { linkHome } from '../Navigation/Main';\r\nimport ButtonLink from '../../UserInterface/Buttons/Button/ButtonLink';\r\nimport Button from '../../UserInterface/Buttons/Button/Button';\r\nimport {\r\n    saveDataAuthorization,\r\n    startSagasAuthPOSTRequestServer,\r\n    changeFlagPrimaryRegistration\r\n} from '../../store/Authorization/actionsAuthorization';\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stateAuthorization: state.stateAuthorization.user,\r\n        stateStylesAll: state.stateStyle.stylesAll, //переключение цветового решения приложения\r\n        staleSelect: state.stateStyle.styleSelect\r\n    }\r\n} \r\nconst mapDispatchToProps = {\r\n    saveDataAuthorization,\r\n    startSagasAuthPOSTRequestServer,\r\n    changeFlagPrimaryRegistration\r\n}\r\n\r\nclass Registration extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            surname: '',\r\n            name: '',\r\n            secondName: '',\r\n            login: '',\r\n            password: '',\r\n            flagValidation: {\r\n                surname: true,\r\n                name: true,\r\n                secondName: true,\r\n                login: true,\r\n                password: true,\r\n            }\r\n        };\r\n        this.dataInputAuth = {\r\n            surname: {\r\n                type: 'text',\r\n                label: 'фамилия',\r\n                placeholder: 'обязательно для заполнения',\r\n                autofocus: true\r\n            },\r\n            name: {\r\n                type: 'text',\r\n                label: 'имя',\r\n                placeholder: 'обязательно для заполнения',\r\n                autofocus: false\r\n            },\r\n            secondName: {\r\n                type: 'text',\r\n                label: 'отчество',\r\n                placeholder: 'обязательно для заполнения',\r\n                autofocus: false\r\n            },\r\n            login: {\r\n                type: 'text',\r\n                label: 'логин',\r\n                placeholder: 'обязательно для заполнения',\r\n                autofocus: false\r\n            },\r\n            password: {\r\n                type: 'password',\r\n                label: 'пароль',\r\n                placeholder: 'должен содержать не менее 8 символов',\r\n                autofocus: false\r\n            }\r\n        };\r\n        \r\n    }\r\n\r\n    onchange = (event, nameInput) => {\r\n        this.setState({\r\n            ...this.state,\r\n            [nameInput]: event.target.value\r\n        });\r\n    }\r\n     \r\n    onclick = (event, nameInput) => {\r\n        this.setState({\r\n            ...this.state,\r\n            [nameInput]: ''\r\n        });\r\n    }\r\n\r\n    hendlerSave = () => {\r\n        let flagValidationChange = this.state.flagValidation;\r\n        let flagNotValid = false;\r\n\r\n        const funcValidation = data => {\r\n            if (this.state[data] === '') {\r\n                flagValidationChange = {\r\n                    ...flagValidationChange,\r\n                    [data]: false\r\n                }\r\n                flagNotValid = true;\r\n                console.log(`flagValidationChange ${data}`, flagValidationChange)\r\n            }\r\n        }\r\n\r\n        funcValidation('surname');\r\n        funcValidation('name');\r\n        funcValidation('secondName');\r\n        funcValidation('login');\r\n        if (this.state.password.length<8) {\r\n            flagValidationChange = {\r\n                ...flagValidationChange,\r\n                password: false\r\n            }\r\n            flagNotValid = true;\r\n        }\r\n\r\n        if (flagNotValid === true) {\r\n            this.setState({\r\n                ...this.state,\r\n                flagValidation: [flagValidationChange]\r\n            })\r\n            console.log(\"flagValidationChange \", flagValidationChange)\r\n            console.log(\"this.state \", this.state)\r\n            return\r\n        }\r\n\r\n        localStorage.setItem('login', this.state.login);\r\n        localStorage.setItem('nameAuth', `${this.state.name} ${this.state.secondName}`);\r\n\r\n        let stateAuth = {\r\n                            uid: '',\r\n                            login: this.state.login,\r\n                            name: `${this.state.surname} ${this.state.name} ${this.state.secondName}`,\r\n                            password: this.state.password,\r\n        };\r\n\r\n        this.props.saveDataAuthorization(stateAuth);\r\n\r\n        this.props.startSagasAuthPOSTRequestServer();\r\n\r\n        this.props.changeFlagPrimaryRegistration(false);\r\n    }\r\n\r\n    hendlerClearAll = () => {\r\n        this.setState({\r\n            surname: '',\r\n            name: '',\r\n            secondName: '',\r\n            login: '',\r\n            password: ''\r\n        });\r\n    }\r\n    hendlerCloseWindowRegistration = () => {\r\n        this.hendlerClearAll();\r\n        this.props.changeFlagPrimaryRegistration(false);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className={this.props.stateStylesAll[this.props.staleSelect].registration}>\r\n                <div>\r\n                    <h2>Первичная регистрация :</h2>\r\n                </div>\r\n\r\n                <form>\r\n                {\r\n                    Object.keys(this.dataInputAuth).map((keyState, index) => {\r\n                        return <div key={index}>\r\n                                    <InputAuth\r\n                                        value={this.state[keyState]}\r\n                                        id={keyState}\r\n                                        tabindex={index}\r\n                                        {...this.dataInputAuth[keyState]}\r\n                                        onchange={this.onchange}\r\n                                        onfocus={() => {}}\r\n                                        onclick={this.onclick}\r\n                                        styles={this.state.flagValidation[keyState] ? {} : { boxShadow: `0px 0px 3px 2px ${this.props.stateStylesAll[this.props.staleSelect].colorWarning} inset` }}\r\n                                    />\r\n                                    <div>\r\n                                        {\r\n                                        this.state.flagValidation[keyState] ?\r\n                                                null\r\n                                        : <p style={{ color: this.props.stateStylesAll[this.props.staleSelect].colorWarning }}> <span className=\"fa fa-exclamation\" aria-hidden=\"true\"></span> \"{this.dataInputAuth[keyState].label}\" {this.dataInputAuth[keyState].placeholder}</p>\r\n                                        }\r\n                                    </div>\r\n                            </div>\r\n                    })\r\n                }\r\n                </form>\r\n\r\n                <div>\r\n                    <ButtonLink\r\n                        onclick={this.hendlerSave}\r\n                        to={linkHome}\r\n                        name=\"Сохранить\"\r\n                        icon=\"\"\r\n                    />\r\n                    <Button\r\n                        onclick={this.hendlerClearAll}\r\n                        name=\"\"\r\n                        icon=\"fa fa-times\"\r\n                    />\r\n                    <ButtonLink\r\n                        onclick={this.hendlerCloseWindowRegistration}\r\n                        to={linkHome}\r\n                        name=\"\"\r\n                        icon=\"fa fa-share\"\r\n                        />\r\n                </div>\r\n            </div>\r\n\r\n            )\r\n    }\r\n    \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Registration)"]},"metadata":{},"sourceType":"module"}