{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u041E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435\\\\React\\\\projects\\\\react-dictionary\\\\src\\\\containers\\\\Authorization\\\\Authorization.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport InputAuth from '../../UserInterface/InputAuth/InputAuth';\nimport Button from '../../UserInterface/Buttons/Button/Button';\nimport { saveDataFromLoginWindow, startSagasAuthGETloginRequestServer, fucnsFlagRepeatPasswordAuth, confirmLogin, changeFlagPrimaryRegistration } from '../../store/Authorization/actionsAuthorization';\n\nfunction mapStateToProps(state) {\n  return {\n    flagLoginConfirmed: state.stateAuthorization.flagLoginConfirmed,\n    flagRepeatPasswordAuth: state.stateAuthorization.flagRepeatPasswordAuth,\n    stateStylesAll: state.stateStyle.stylesAll,\n    //переключение цветового решения приложения\n    staleSelect: state.stateStyle.styleSelect\n  };\n}\n\nconst mapDispatchToProps = {\n  saveDataFromLoginWindow,\n  startSagasAuthGETloginRequestServer,\n  fucnsFlagRepeatPasswordAuth,\n  confirmLogin,\n  changeFlagPrimaryRegistration\n};\n\nclass Authorization extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.helloLogin = () => {\n      let loginLocalStorage = localStorage.getItem('login');\n\n      if (localStorage.getItem('login') === null) {\n        loginLocalStorage = '';\n      }\n\n      ;\n      this.setState({\n        login: loginLocalStorage,\n        helloName: localStorage.getItem('nameAuth')\n      });\n    };\n\n    this.onchange = (event, nameInput) => {\n      this.setState({\n        [nameInput]: event.target.value\n      });\n    };\n\n    this.onclick = (event, nameInput) => {\n      this.setState({\n        [nameInput]: ''\n      });\n\n      if (nameInput === 'login') {\n        this.setState({\n          helloName: ''\n        });\n        localStorage.setItem('nameAuth', '');\n      }\n\n      ;\n    };\n\n    this.onfocus = nameInput => {\n      this.setState({\n        [nameInput]: ''\n      });\n\n      if (nameInput === 'login') {\n        this.props.confirmLogin('true');\n      }\n\n      ;\n\n      if (nameInput === 'password') {\n        this.props.fucnsFlagRepeatPasswordAuth('true');\n      }\n\n      ;\n    };\n\n    this.hendlerSave = () => {\n      localStorage.setItem('login', this.state.login);\n      this.props.saveDataFromLoginWindow({\n        login: this.state.login,\n        password: this.state.password\n      }); //сохраняем данные в redux для запроса логина на сервер\n\n      this.props.startSagasAuthGETloginRequestServer(); //слушатель саги делает запрос по логину\n    };\n\n    this.hendlerInitialRegistration = () => {\n      this.props.changeFlagPrimaryRegistration(true);\n    };\n\n    this.state = {\n      login: '',\n      password: '',\n      helloName: '',\n      flagOpenWindowRegistration: false\n    };\n  }\n\n  componentWillMount() {\n    this.helloLogin();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this.props.stateStylesAll[this.props.staleSelect].authorization,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \" \\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F \")), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputAuth, {\n      value: this.state.login,\n      id: \"login\",\n      type: \"text\",\n      label: \"\\u043B\\u043E\\u0433\\u0438\\u043D\",\n      placeholder: \"login\",\n      autofocus: \"false\",\n      onchange: this.onchange,\n      onfocus: this.onfocus,\n      onclick: this.onclick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, this.props.flagLoginConfirmed ? null : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 35\n      }\n    }, \"\\u0412\\u0435\\u0434\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0435\")), /*#__PURE__*/React.createElement(InputAuth, {\n      value: this.state.password,\n      id: \"password\",\n      type: \"password\",\n      label: \"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      placeholder: \"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      autofocus: \"false\",\n      onchange: this.onchange,\n      onfocus: this.onfocus,\n      flagInput: this.state.warningPassword,\n      onclick: this.onclick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, this.props.flagRepeatPasswordAuth ? null : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 35\n      }\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0435\\u043D \\u043D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onclick: this.hendlerSave,\n      name: \"\\u0412\\u043E\\u0439\\u0442\\u0438\",\n      icon: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onclick: this.hendlerInitialRegistration,\n      name: \"\\u041F\\u0435\\u0440\\u0432\\u0438\\u0447\\u043D\\u0430\\u044F \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",\n      icon: \"fa fa-user-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Authorization);","map":{"version":3,"sources":["D:/Обучение/React/projects/react-dictionary/src/containers/Authorization/Authorization.js"],"names":["React","connect","InputAuth","Button","saveDataFromLoginWindow","startSagasAuthGETloginRequestServer","fucnsFlagRepeatPasswordAuth","confirmLogin","changeFlagPrimaryRegistration","mapStateToProps","state","flagLoginConfirmed","stateAuthorization","flagRepeatPasswordAuth","stateStylesAll","stateStyle","stylesAll","staleSelect","styleSelect","mapDispatchToProps","Authorization","Component","constructor","props","helloLogin","loginLocalStorage","localStorage","getItem","setState","login","helloName","onchange","event","nameInput","target","value","onclick","setItem","onfocus","hendlerSave","password","hendlerInitialRegistration","flagOpenWindowRegistration","componentWillMount","render","authorization","warningPassword"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport InputAuth from '../../UserInterface/InputAuth/InputAuth';\r\nimport Button from '../../UserInterface/Buttons/Button/Button';\r\nimport {\r\n    saveDataFromLoginWindow,\r\n    startSagasAuthGETloginRequestServer,\r\n    fucnsFlagRepeatPasswordAuth,\r\n    confirmLogin,\r\n    changeFlagPrimaryRegistration\r\n} from '../../store/Authorization/actionsAuthorization';\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        flagLoginConfirmed: state.stateAuthorization.flagLoginConfirmed,\r\n        flagRepeatPasswordAuth: state.stateAuthorization.flagRepeatPasswordAuth,\r\n        stateStylesAll: state.stateStyle.stylesAll, //переключение цветового решения приложения\r\n        staleSelect: state.stateStyle.styleSelect\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    saveDataFromLoginWindow,\r\n    startSagasAuthGETloginRequestServer,\r\n    fucnsFlagRepeatPasswordAuth,\r\n    confirmLogin,\r\n    changeFlagPrimaryRegistration\r\n}\r\n\r\nclass Authorization extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: '',\r\n            password: '',\r\n            helloName: '',\r\n            flagOpenWindowRegistration: false\r\n        };\r\n    }\r\n\r\n    helloLogin = () => {\r\n        let loginLocalStorage = localStorage.getItem('login');\r\n        if (localStorage.getItem('login') === null) { loginLocalStorage = '' };\r\n        this.setState({\r\n            login: loginLocalStorage,\r\n            helloName: localStorage.getItem('nameAuth')\r\n        })\r\n    }\r\n\r\n    onchange = (event, nameInput) => {\r\n        this.setState({\r\n            [nameInput]: event.target.value\r\n        });\r\n    }\r\n\r\n    onclick = (event, nameInput) => {\r\n        this.setState({\r\n            [nameInput]: ''\r\n        });\r\n        if (nameInput === 'login') {\r\n            this.setState({\r\n                helloName: ''\r\n            });\r\n            localStorage.setItem('nameAuth', '');\r\n        };\r\n    }\r\n\r\n    onfocus = (nameInput) => {\r\n        this.setState({\r\n            [nameInput]: ''\r\n        })\r\n        if (nameInput === 'login') {\r\n            this.props.confirmLogin('true');\r\n        };\r\n        if (nameInput === 'password') {\r\n            this.props.fucnsFlagRepeatPasswordAuth('true');\r\n        };\r\n    }\r\n\r\n    hendlerSave = () => {\r\n\r\n        localStorage.setItem('login', this.state.login);\r\n\r\n        this.props.saveDataFromLoginWindow({\r\n            login: this.state.login,\r\n            password: this.state.password\r\n        }); //сохраняем данные в redux для запроса логина на сервер\r\n        this.props.startSagasAuthGETloginRequestServer(); //слушатель саги делает запрос по логину\r\n    }\r\n\r\n    hendlerInitialRegistration = () => {\r\n        this.props.changeFlagPrimaryRegistration(true);\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        this.helloLogin();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className={this.props.stateStylesAll[this.props.staleSelect].authorization}>\r\n                <div>\r\n                    <h2> Авторизация </h2>\r\n                </div>\r\n                <form>\r\n                    <InputAuth\r\n                        value={this.state.login}\r\n                        id=\"login\"\r\n                        type='text'\r\n                        label=\"логин\"\r\n                        placeholder='login'\r\n                        autofocus='false'\r\n                        onchange={this.onchange}\r\n                        onfocus={this.onfocus}\r\n                        onclick={this.onclick}\r\n                    />\r\n                    <div>\r\n                        {\r\n                            this.props.flagLoginConfirmed ?\r\n                                null\r\n                                : <p>Веденный логин не зарегистрирован в системе</p>\r\n                        }\r\n                    </div>\r\n                    <InputAuth\r\n                        value={this.state.password}\r\n                        id='password'\r\n                        type='password'\r\n                        label=\"пароль\"\r\n                        placeholder='пароль'\r\n                        autofocus='false'\r\n                        onchange={this.onchange}\r\n                        onfocus={this.onfocus}\r\n                        flagInput={this.state.warningPassword}\r\n                        onclick={this.onclick}\r\n                        />\r\n                \r\n                    <div>\r\n                        {\r\n                            this.props.flagRepeatPasswordAuth ?\r\n                                null\r\n                                : <p>Введен неверный пароль</p>\r\n                        }\r\n                    </div>\r\n                </form>\r\n                <div>\r\n                    <Button\r\n                        onclick={this.hendlerSave}\r\n                        name=\"Войти\"\r\n                        icon=\"\"\r\n                    />\r\n                    <Button\r\n                        onclick={this.hendlerInitialRegistration}\r\n                        name=\"Первичная регистрация\"\r\n                        icon=\"fa fa-user-plus\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Authorization)"]},"metadata":{},"sourceType":"module"}