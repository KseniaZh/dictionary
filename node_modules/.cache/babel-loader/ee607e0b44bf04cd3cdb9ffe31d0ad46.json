{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u041E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435\\\\React\\\\projects\\\\react-dictionary\\\\src\\\\containers\\\\Authorization\\\\LoginAuth.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport InputAuth from '../../UserInterface/InputAuth/InputAuth';\nimport { linkRegistration } from '../Navigation/Main';\nimport ButtonLink from '../../UserInterface/Buttons/Button/ButtonLink';\nimport { saveDataFromLoginWindow, startSagasAuthGETloginRequestServer, flagRepeatPasswordAuth } from '../../store/Authorization/actionsAuthorization';\n\nfunction mapStateToProps(state) {\n  return {\n    flagLoginConfirmed: state.stateAuthorization.flagLoginConfirmed,\n    flagRepeatPasswordAuth: state.stateAuthorization.flagRepeatPasswordAuth\n  };\n}\n\nconst mapDispatchToProps = {\n  saveDataFromLoginWindow,\n  startSagasAuthGETloginRequestServer,\n  flagRepeatPasswordAuth\n};\n\nclass LoginAuth extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.helloLogin = () => {\n      let loginLocalStorage = localStorage.getItem('login');\n\n      if (localStorage.getItem('login') === null) {\n        loginLocalStorage = '';\n      }\n\n      ;\n      this.setState({\n        login: loginLocalStorage,\n        helloName: localStorage.getItem('nameAuth')\n      });\n    };\n\n    this.onchange = (event, nameInput) => {\n      this.setState({\n        [nameInput]: event.target.value\n      });\n    };\n\n    this.onclick = nameInput => {\n      this.setState({\n        [nameInput]: ''\n      });\n\n      if (nameInput === 'login') {\n        this.setState({\n          helloName: ''\n        });\n        localStorage.setItem('nameAuth', '');\n      }\n\n      ;\n    };\n\n    this.onfocus = (nameInput, flagInput) => {\n      this.setState({\n        [nameInput]: '',\n        [flagInput]: false\n      });\n      this.props.flagRepeatPasswordAuth('true');\n    };\n\n    this.hendlerSave = () => {\n      console.log(' войти в аккаунт ', this.state);\n      localStorage.setItem('login', this.state.login);\n      this.props.saveDataFromLoginWindow({\n        login: this.state.login,\n        password: this.state.password\n      }); //сохраняем данные в redux для запроса логина на сервер\n\n      this.props.startSagasAuthGETloginRequestServer(); //слушатель саги делает запрос по логину\n    };\n\n    this.hendlerInitialRegistration = () => {\n      console.log(' первичная регистрация ', this.state);\n    };\n\n    this.state = {\n      login: '',\n      password: '',\n      helloName: '',\n      warningLogin: false,\n      warningPassword: false\n    };\n  }\n\n  componentWillMount() {\n    this.helloLogin();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \" \\u0414\\u043E\\u0431\\u0440\\u044B\\u0439 \\u0434\\u0435\\u043D\\u044C!\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, \" \\u0414\\u043B\\u044F \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B \\u043F\\u0440\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E \"), /*#__PURE__*/React.createElement(InputAuth, {\n      value: this.state.login,\n      id: \"login\",\n      type: \"text\",\n      placeholder: \"login\",\n      autofocus: \"false\",\n      onchange: this.onchange,\n      onfocus: this.onfocus,\n      flagInput: this.state.warningLogin,\n      onclick: this.onclick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, this.props.flagLoginConfirmed ? null : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 30\n      }\n    }, \"\\u0412\\u0435\\u0434\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0435\")), /*#__PURE__*/React.createElement(InputAuth, {\n      value: this.state.password,\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      autofocus: \"false\",\n      onchange: this.onchange,\n      onfocus: this.onfocus,\n      flagInput: this.state.warningPassword,\n      onclick: this.onclick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, this.props.flagRepeatPasswordAuth ? null : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 31\n      }\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0435\\u043D \\u043D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\")), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.hendlerSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"), /*#__PURE__*/React.createElement(ButtonLink, {\n      onclick: this.hendlerInitialRegistration,\n      to: linkRegistration,\n      name: \"\\u041F\\u0435\\u0440\\u0432\\u0438\\u0447\\u043D\\u0430\\u044F \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",\n      icon: \"fa fa-user-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginAuth);","map":{"version":3,"sources":["D:/Обучение/React/projects/react-dictionary/src/containers/Authorization/LoginAuth.js"],"names":["React","connect","InputAuth","linkRegistration","ButtonLink","saveDataFromLoginWindow","startSagasAuthGETloginRequestServer","flagRepeatPasswordAuth","mapStateToProps","state","flagLoginConfirmed","stateAuthorization","mapDispatchToProps","LoginAuth","Component","constructor","props","helloLogin","loginLocalStorage","localStorage","getItem","setState","login","helloName","onchange","event","nameInput","target","value","onclick","setItem","onfocus","flagInput","hendlerSave","console","log","password","hendlerInitialRegistration","warningLogin","warningPassword","componentWillMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport InputAuth from '../../UserInterface/InputAuth/InputAuth';\r\nimport { linkRegistration } from '../Navigation/Main';\r\nimport ButtonLink from '../../UserInterface/Buttons/Button/ButtonLink';\r\nimport {\r\n    saveDataFromLoginWindow,\r\n    startSagasAuthGETloginRequestServer,\r\n    flagRepeatPasswordAuth\r\n} from '../../store/Authorization/actionsAuthorization';\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        flagLoginConfirmed: state.stateAuthorization.flagLoginConfirmed,\r\n        flagRepeatPasswordAuth: state.stateAuthorization.flagRepeatPasswordAuth\r\n    }\r\n} \r\nconst mapDispatchToProps = {\r\n    saveDataFromLoginWindow,\r\n    startSagasAuthGETloginRequestServer,\r\n    flagRepeatPasswordAuth\r\n}\r\n\r\nclass LoginAuth extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: '',\r\n            password: '',\r\n            helloName: '',\r\n            warningLogin: false,\r\n            warningPassword: false,\r\n        };\r\n    } \r\n\r\n    helloLogin = () => {\r\n        let loginLocalStorage = localStorage.getItem('login');\r\n        if (localStorage.getItem('login') === null) { loginLocalStorage = '' };\r\n        this.setState({\r\n            login: loginLocalStorage,\r\n            helloName: localStorage.getItem('nameAuth')\r\n        })\r\n    }\r\n\r\n    onchange = (event, nameInput) => {\r\n        this.setState({\r\n            [nameInput]: event.target.value\r\n        });\r\n    }\r\n     \r\n    onclick = nameInput => {\r\n        this.setState({\r\n            [nameInput]: ''\r\n        });\r\n        if (nameInput === 'login') {\r\n            this.setState({\r\n                helloName: ''\r\n            });\r\n            localStorage.setItem('nameAuth', '');\r\n        };\r\n    }\r\n\r\n    onfocus = (nameInput, flagInput) => {\r\n        this.setState({\r\n            [nameInput]: '',\r\n            [flagInput]: false\r\n        })\r\n        this.props.flagRepeatPasswordAuth('true')\r\n    }\r\n\r\n    hendlerSave = () => {\r\n        console.log(' войти в аккаунт ', this.state);\r\n        localStorage.setItem('login', this.state.login);\r\n\r\n        this.props.saveDataFromLoginWindow({\r\n                                            login: this.state.login,\r\n                                            password: this.state.password\r\n                                        }); //сохраняем данные в redux для запроса логина на сервер\r\n        this.props.startSagasAuthGETloginRequestServer(); //слушатель саги делает запрос по логину\r\n    }\r\n\r\n    hendlerInitialRegistration = () => {\r\n        console.log(' первичная регистрация ', this.state);\r\n    }\r\n\r\n    componentWillMount() {  \r\n        this.helloLogin();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <h2> Добрый день!</h2>\r\n                <h2> Для начала работы пройдите авторизацию </h2>\r\n                <InputAuth\r\n                    value={this.state.login}\r\n                    id=\"login\"\r\n                    type= 'text'\r\n                    placeholder= 'login'\r\n                    autofocus= 'false'\r\n                    onchange={this.onchange}\r\n                    onfocus={this.onfocus}\r\n                    flagInput={this.state.warningLogin}\r\n                    onclick={this.onclick}\r\n                />\r\n                <div>\r\n                    {\r\n                        this.props.flagLoginConfirmed ?\r\n                            null\r\n                            :<p>Веденный логин не зарегистрирован в системе</p>\r\n                    }\r\n                </div>\r\n                <InputAuth\r\n                    value={this.state.password}\r\n                    id='password'\r\n                    type='password'\r\n                    placeholder='пароль'\r\n                    autofocus='false'\r\n                    onchange={this.onchange}\r\n                    onfocus={this.onfocus}\r\n                    flagInput={this.state.warningPassword}\r\n                    onclick={this.onclick}\r\n                />\r\n                <div>\r\n                    {\r\n                        this.props.flagRepeatPasswordAuth ?\r\n                            null\r\n                            : <p>Введен неверный пароль</p>\r\n                    }\r\n                </div>\r\n\r\n                <button\r\n                    onClick={this.hendlerSave}\r\n                >\r\n                    Войти\r\n                </button>\r\n\r\n                <ButtonLink\r\n                    onclick={this.hendlerInitialRegistration}\r\n                    to={linkRegistration}\r\n                    name=\"Первичная регистрация\"\r\n                    icon=\"fa fa-user-plus\"\r\n                />\r\n\r\n            </div>\r\n\r\n            )\r\n    }\r\n    \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginAuth)"]},"metadata":{},"sourceType":"module"}